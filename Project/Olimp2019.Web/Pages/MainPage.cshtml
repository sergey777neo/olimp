@page
@model Olimp2019.Web.Pages.MainPageModel
@{
	ViewData["Title"] = "MainPage";
	Layout = "~/Pages/_Layout.cshtml";
}

<environment include="Development">
	<link rel="stylesheet" href="~/css/game.css" />
</environment>
<environment exclude="Development">
	<link rel="stylesheet" href="~/css/game.min.css" asp-append-version="true" />
</environment>

<div class="game-page__left-bar medium-font no-select" data-url="@Url.Action("LevelOne","Game")">
	<div class="game-page__left-bar__item game-page__map"></div>
	<div class="game-page__levels">
		@for (int i = 1; i <= 5; i++)
		{
			<div class="game-page__left-bar__item" onclick="loadUserLevel(@i)">
				@if (i == Model.CurrentLevel)
				{
					<div class="game-page__current-level" data-number="@String.Format("0{0}", i)" data-count="@Model.CurrentLevelStepsCount" data-current="@Model.CurrentLevelStep"></div>
				}
				else if (i < Model.CurrentLevel)
				{
					<div class="game-page__done-level" data-number="@String.Format("0{0}", i)">@String.Format("0{0}", i)</div>
				}
				else
				{
					<div data-number="@String.Format("0{0}", i)">@String.Format("0{0}", i)</div>
				}
			</div>
		}
	</div>
	@Url.Action("FooterLatestBlogPosts", "Common")
	<form asp-controller="Account" asp-action="Logout" method="post" id="logoutForm">
		<div class="game-page__left-bar__item game-page__exit" onclick="javascript:this.parentNode.submit();"></div>
	</form>
</div>
<div class="game-page__top-bar no-select">
	<div class="game-page__top-bar__score">
		<span class="light-font">Бали: </span>
		<span id="userScore" class="medium-font">@Model.CurrentScore</span>
	</div>
	<div id="userProfile" class="game-page__left-bar__item game-page__top-bar__profile">
		<div class="game-page__profile"></div>
		<span id="userName">@Model.CurrentUserFullName</span>
	</div>
</div>
<div id="game" class="game-page__game-container">
	
</div>

@section Scripts{
	<environment include="Development">
		<script src="~/lib/progress-bar/progress.js"></script>
		<script src="~/js/game.js"></script>
	</environment>
	<environment exclude="Development">
		<script src="~/lib/progress-bar/progress.min.js"></script>
		<script src="~/js/game.min.js"></script>
	</environment>
}